import numpy as np
import matplotlib
import matplotlib.pyplot as plt

def calculate_monthly_shipment(line):
    frequencies = {
        'weekly' : 4,
        'biweekly' : 2,
        'monthly' : 1,
    }

    quantity = line[1]
    num = line[3]
    freq = line[4]
    
    if not isinstance(quantity, (float, int)):
        quantity = float(quantity)
    
    if not isinstance(num, (float, int)):
        num = float(num)
    
    freq = str.lower(freq)
    
    monthly_total = quantity*num*frequencies[freq]
    
    return monthly_total

def plot_shipment_data():
    shipment_file = open('MSY Data - Shipment.csv', 'r')
    next(shipment_file)
    
    shipment_data = {}
    
    for line in shipment_file:
        line = line.strip()
        line = line.split(',')
        
        shipment_data[line[0]] = calculate_monthly_shipment(line)
    
    plt.figure()
    plt.bar(list(shipment_data.keys()), list(shipment_data.values()), label='Estimated Ingredients per Month')
    plt.xlabel('Ingredient')
    plt.xticks(rotation=45, ha='right')
    plt.ylabel('Units')
    plt.tight_layout()
    plt.show()

def calculate_use_per_order(line):
    


